version: "2.0"

policies:
- name: RulePolicy

rules:
  - rule: question rule
    steps:
    - intent: question
    - action: action_question

  - rule: affirm rule
    steps:
    - intent: begin
    - action: action_begin

  - rule: give-feedback rule
    steps:
    - intent: give-feedback
    - action: action_confirm_feedback
    
  - rule: ask for feedback rule
    steps:
    - intent: feedback
    - action: action_feedback
    - action: userfeedback_form
    - active_loop: userfeedback_form

  - rule: submit feedback rule
    condition:
    - active_loop: userfeedback_form
    steps:
    - action: userfeedback_form
    - active_loop: null
    - slot_was_set:
      - requested_slot: null
    - action: action_send_feedback

  - rule: cancel feedback rule
    steps:
    - intent: cancel_feedback
    - action: action_cancel_feedback

  - rule: greet rule
    steps:
    - intent: greet
    - action: action_greet
  